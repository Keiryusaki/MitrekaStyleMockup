import{d as B,r as n,i as f,c as o,a as e,b,j as m,x as M,e as S,t as V,F as h,G as A,C as x,k as y,a1 as g,u as k,I as _,A as z,q as i,y as N,o as r}from"./index-DiwQE97j.js";const j={class:"min-h-screen flex items-center justify-center p-6 bg-base-200"},D={class:"w-full max-w-md"},K={class:"card bg-base-100 p-8 space-y-6"},L={key:0,class:"text-center space-y-4"},Z={class:"pt-4"},q={class:"relative"},U=["type"],F={key:0,class:"mt-2 space-y-1"},I={class:"flex gap-1"},R={class:"relative"},T=["type"],$={key:0,class:"text-error text-xs mt-1"},E={class:"text-xs space-y-1 opacity-60"},G={class:"list-disc list-inside space-y-0.5"},H=["disabled"],J={key:0,class:"loading loading-spinner loading-sm"},O={key:1},X=B({__name:"ResetPassword",setup(Q){const t=n({password:"",confirmPassword:""}),p=n(!1),v=n(!1),d=n(!1),w=n(!1),u=f(()=>t.value.password===t.value.confirmPassword),c=f(()=>{const a=t.value.password;if(!a)return{level:0,label:"",color:""};let s=0;return a.length>=8&&s++,a.length>=12&&s++,/[a-z]/.test(a)&&/[A-Z]/.test(a)&&s++,/\d/.test(a)&&s++,/[^a-zA-Z0-9]/.test(a)&&s++,s<=2?{level:s,label:"Lemah",color:"bg-error"}:s<=3?{level:s,label:"Sedang",color:"bg-warning"}:{level:s,label:"Kuat",color:"bg-success"}}),P=()=>{u.value&&(d.value=!0,setTimeout(()=>{d.value=!1,w.value=!0},1500))};return(a,s)=>{const C=V("router-link");return r(),o("div",j,[e("div",D,[e("div",K,[w.value?(r(),o("div",L,[s[5]||(s[5]=b('<div class="w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-success" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6 9 17l-5-5"></path></svg></div><h1 class="text-xl font-bold">Password Berhasil Diubah!</h1><p class="text-sm opacity-60"> Password Anda telah berhasil direset. Silakan login dengan password baru. </p>',3)),e("div",Z,[m(C,{to:"/auth/signin",class:"btn btn-primary w-full"},{default:M(()=>[...s[4]||(s[4]=[S(" Kembali ke Login ",-1)])]),_:1})])])):(r(),o(h,{key:1},[s[9]||(s[9]=b('<div class="text-center space-y-2"><div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-primary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></div><h1 class="text-xl font-bold">Buat Password Baru</h1><p class="text-sm opacity-60"> Password baru harus berbeda dari password sebelumnya. </p></div>',1)),e("form",{onSubmit:A(P,["prevent"]),class:"space-y-5"},[e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium mb-1.5"},"Password Baru",-1)),e("div",q,[y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.value.password=l),type:p.value?"text":"password",class:"input w-full pr-10",placeholder:"Minimal 8 karakter",required:"",minlength:"8"},null,8,U),[[g,t.value.password]]),e("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 opacity-50 hover:opacity-100",onClick:s[1]||(s[1]=l=>p.value=!p.value)},[m(k(_),{name:"eye",class:"w-5 h-5"})])]),t.value.password?(r(),o("div",F,[e("div",I,[(r(),o(h,null,z(5,l=>e("div",{key:l,class:i(["h-1 flex-1 rounded-full transition-colors",l<=c.value.level?c.value.color:"bg-base-300"])},null,2)),64))]),e("p",{class:i(["text-xs",c.value.color.replace("bg-","text-")])}," Kekuatan: "+N(c.value.label),3)])):x("",!0)]),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium mb-1.5"},"Konfirmasi Password",-1)),e("div",R,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.confirmPassword=l),type:v.value?"text":"password",class:i(["input w-full pr-10",{"input-error":t.value.confirmPassword&&!u.value}]),placeholder:"Ulangi password baru",required:""},null,10,T),[[g,t.value.confirmPassword]]),e("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 opacity-50 hover:opacity-100",onClick:s[3]||(s[3]=l=>v.value=!v.value)},[m(k(_),{name:"eye",class:"w-5 h-5"})])]),t.value.confirmPassword&&!u.value?(r(),o("p",$," Password tidak cocok ")):x("",!0)]),e("div",E,[s[8]||(s[8]=e("p",{class:"font-medium"},"Password harus memiliki:",-1)),e("ul",G,[e("li",{class:i({"text-success":t.value.password.length>=8})},"Minimal 8 karakter",2),e("li",{class:i({"text-success":/[A-Z]/.test(t.value.password)&&/[a-z]/.test(t.value.password)})},"Huruf besar dan kecil",2),e("li",{class:i({"text-success":/\d/.test(t.value.password)})},"Minimal 1 angka",2),e("li",{class:i({"text-success":/[^a-zA-Z0-9]/.test(t.value.password)})},"Minimal 1 karakter spesial",2)])]),e("button",{type:"submit",class:"btn btn-primary w-full",disabled:d.value||!u.value||t.value.password.length<8},[d.value?(r(),o("span",J)):(r(),o("span",O,"Reset Password"))],8,H)],32)],64))])])])}}});export{X as default};
